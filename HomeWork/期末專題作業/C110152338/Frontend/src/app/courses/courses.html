<div>
</div>

<div class="course-list-card">
  <div class="course-list-header">
    <span class="icon">ğŸ“‹</span>
    <span class="title">èª²ç¨‹åˆ—è¡¨</span>
    <span class="user-info" *ngIf="username">ï½œç™»å…¥è€…ï¼š{{username}}</span>
  </div>
  <table class="course-table">
    <thead>
      <tr>
        <th>ç§‘ç›®åç¨±</th>
        <th>æˆèª²è€å¸«</th>
        <th>æ•™å®¤</th>
        <th>ä¸Šèª²æ™‚é–“</th>
        <th>æ“ä½œ</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let course of courses">
        <td>{{ course.courseName }}</td>
        <td>{{ course.instructor }}</td>
        <td>{{ course.classroom }}</td>
        <td>{{ course.schedule }}</td>
        <td>
          <ng-container *ngIf="username; else notLoggedIn">
            <button 
              class="course-button" 
              [ngClass]="isEnrolled(course) ? 'btn-red' : 'btn-green'" 
              (click)="isEnrolled(course) ? unenrollCourse(course) : enrollCourse(course)">
              {{ isEnrolled(course) ? 'å·²åŠ å…¥' : 'åŠ å…¥é¸èª²' }}
            </button>
          </ng-container>
          <ng-template #notLoggedIn>
            <span class="login-warning">è«‹å…ˆç™»å…¥ä»¥é¸èª²</span>
          </ng-template>
        </td>
      </tr>
    </tbody>
  </table>
</div>
